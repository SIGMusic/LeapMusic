#N canvas 98 22 1440 804 10;
#X declare -lib mrpeach;
#X obj -348 -444 import mrpeach;
#X obj -290 -393 udpreceive 9003;
#X obj -290 -358 unpackOSC;
#X text -37 -228 This is the master clock;
#X obj -117 -257 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
1 1;
#X obj -117 -199 f;
#X obj -80 -199 + 1;
#X obj -118 -154 hradio 11 1 0 64 empty empty empty 0 -8 0 10 -262144
-1 -1 9;
#X obj -117 -175 mod 64;
#X obj -13 -266 print;
#X obj 270 -107 select 0 31;
#X obj 270 -6 packOSC;
#X msg 273 -80 1;
#X text 390 -84 This sends a notification that the buffer is switched
;
#X obj -347 218 mellosynth;
#X obj 14 486 dac~;
#N canvas 581 57 614 384 drum_buffer 0;
#X obj 35 24 inlet;
#X obj 128 21 inlet;
#X obj 40 201 outlet;
#X text 114 1 index to play;
#N canvas 0 22 450 278 (subpatch) 0;
#X array drumbars 64 float 3;
#A 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1
0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0;
#X coords 0 2 63 0 200 140 1 0 0;
#X restore 355 21 graph;
#X obj 221 23 inlet;
#X text 210 3 set drumbars;
#X text 21 3 bang receive;
#X obj 40 108 tabread drumbars;
#X obj 40 149 select 1;
#X obj 187 104 routeOSC /drumbars;
#X obj 186 185 tabwrite drumbars;
#X obj 187 145 routeOSC /value /index;
#X floatatom 140 78 5 0 0 0 - - -;
#X floatatom 95 180 5 0 0 0 - - -;
#X obj 116 215 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 1 0 8 0;
#X connect 1 0 13 0;
#X connect 5 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 9 0 14 0;
#X connect 9 0 15 0;
#X connect 10 0 12 0;
#X connect 12 0 11 0;
#X connect 12 1 11 1;
#X restore 20 290 pd drum_buffer;
#X obj 21 356 kick;
#N canvas 802 64 638 360 snare_buffer 0;
#X obj 45 34 inlet;
#X obj 138 31 inlet;
#X obj 50 211 outlet;
#X text 124 11 index to play;
#N canvas 0 22 450 278 (subpatch) 0;
#X array snarebars 64 float 3;
#A 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1
0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 1 0 0;
#X coords 0 2 63 0 200 140 1 0 0;
#X restore 365 31 graph;
#X obj 231 33 inlet;
#X text 220 13 set drumbars;
#X text 31 13 bang receive;
#X obj 50 159 select 1;
#X obj 197 155 routeOSC /value /index;
#X obj 50 118 tabread snarebars;
#X obj 197 113 routeOSC /snarebars;
#X obj 196 195 tabwrite snarebars;
#X obj 114 201 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 1 0 10 0;
#X connect 5 0 11 0;
#X connect 8 0 2 0;
#X connect 8 0 13 0;
#X connect 9 0 12 0;
#X connect 9 1 12 1;
#X connect 10 0 8 0;
#X connect 11 0 9 0;
#X restore 124 290 pd snare_buffer;
#X text 29 -269 comment;
#X text 74 -187 There are two primary buffers 0-31 32-63 \, pure data
plays one half while notes are loaded to the other half;
#X text -29 317 The buffer contains instrument events to be played
\, sync messages are sent to change the values;
#X floatatom -468 198 5 0 0 0 - - -;
#X floatatom -437 231 5 0 0 0 - - -;
#X floatatom -402 267 5 0 0 0 - - -;
#X obj 121 355 snare-wt~;
#X obj -109 -83 routeOSC /mellosynth_buffer /drum_buffer /snare_buffer
;
#X obj -289 -319 routeOSC /async /sync /start /tempo;
#X obj 15 425 *~ 0.8;
#X obj 21 386 *~ 2;
#X obj 94 404 *~ 1;
#X obj 13 457 lop~;
#X obj 157 438 hsl 128 15 0 1000 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 8890 1;
#X obj 318 357 packOSC;
#X obj 503 359 packOSC;
#X msg 318 328 send /percussion s "kick";
#X obj 287 159 packOSC;
#X text 292 72 send m1 to leap-thing;
#X text 345 296 send kick to leap-thing;
#X text 554 304 send snare to leap-thing;
#X obj 528 -256 t b f;
#X obj 290 93 pack 0 0 0;
#X msg 507 325 send /percussion s "snare";
#X obj 411 413 udpsend;
#X msg 360 -246 connect localhost 13371;
#X msg 289 125 send /minstruments "m1" \$1 \$2 \$3;
#X obj -306 -63 routeOSC /hue;
#X obj 487 70 print;
#X msg 313 -81 2;
#X obj 271 -57 pack 0;
#X msg 283 -297 connect localhost 9005;
#X obj 271 23 udpsend;
#X msg 272 -35 send /mbn \$1;
#X obj 36 -330 print;
#X text 329 -313 python;
#X text 397 -267 leap-thing java;
#X text 98 -429 to start: first click all the connects. Then move the
slider at he bottom to the right(the one next to the lop lowpass filter)
then click on the box above the metronome "metro";
#X obj -177 -292 select 1;
#X obj -208 33 routeOSC /m1;
#X obj -101 29 routeOSC /m2;
#X obj -93 172 mellosynth;
#X floatatom -214 152 5 0 0 0 - - -;
#X floatatom -183 185 5 0 0 0 - - -;
#X floatatom -148 221 5 0 0 0 - - -;
#X obj -375 155 mello_synth_buffer;
#X obj -121 109 mello_synth_buffer;
#X obj -349 -215 print;
#X obj -298 252 *~ 0.4;
#X obj -44 206 *~ 0.4;
#X obj -116 -227 metro 100;
#X msg 186 392 700;
#X connect 1 0 2 0;
#X connect 2 0 27 0;
#X connect 2 0 66 0;
#X connect 4 0 69 0;
#X connect 5 0 6 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 10 0;
#X connect 7 0 16 1;
#X connect 7 0 18 1;
#X connect 7 0 64 1;
#X connect 7 0 65 1;
#X connect 8 0 7 0;
#X connect 10 0 12 0;
#X connect 10 1 48 0;
#X connect 11 0 51 0;
#X connect 12 0 49 0;
#X connect 14 0 67 0;
#X connect 14 1 67 0;
#X connect 16 0 17 0;
#X connect 16 0 35 0;
#X connect 16 0 42 0;
#X connect 17 0 29 0;
#X connect 18 0 25 0;
#X connect 25 0 30 0;
#X connect 26 0 58 0;
#X connect 26 0 59 0;
#X connect 26 1 16 2;
#X connect 26 2 18 2;
#X connect 27 0 46 0;
#X connect 27 1 26 0;
#X connect 27 2 57 0;
#X connect 27 2 53 0;
#X connect 27 3 69 1;
#X connect 27 3 50 0;
#X connect 27 3 44 0;
#X connect 27 3 70 0;
#X connect 27 4 9 0;
#X connect 28 0 31 0;
#X connect 29 0 28 0;
#X connect 30 0 28 0;
#X connect 31 0 15 0;
#X connect 31 0 15 1;
#X connect 32 0 31 1;
#X connect 33 0 43 0;
#X connect 34 0 43 0;
#X connect 35 0 33 0;
#X connect 36 0 43 0;
#X connect 41 0 45 0;
#X connect 42 0 34 0;
#X connect 44 0 43 0;
#X connect 45 0 36 0;
#X connect 46 1 14 2;
#X connect 48 0 49 0;
#X connect 49 0 52 0;
#X connect 50 0 51 0;
#X connect 52 0 11 0;
#X connect 52 0 47 0;
#X connect 57 0 4 0;
#X connect 58 0 64 2;
#X connect 59 0 65 2;
#X connect 60 0 68 0;
#X connect 60 1 68 0;
#X connect 64 0 14 0;
#X connect 64 0 22 0;
#X connect 64 0 41 0;
#X connect 64 1 14 1;
#X connect 64 1 23 0;
#X connect 64 1 41 1;
#X connect 64 2 24 0;
#X connect 64 2 41 2;
#X connect 65 0 60 0;
#X connect 65 0 61 0;
#X connect 65 1 60 1;
#X connect 65 1 62 0;
#X connect 65 2 63 0;
#X connect 67 0 28 0;
#X connect 68 0 28 0;
#X connect 69 0 5 0;
#X connect 70 0 32 0;
